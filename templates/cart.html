{% extends 'base.html' %}

{% block title %}Cart{% endblock %}

{% block content %}
<div class="cart-page">
  <h1>Your Cart</h1>

  {% if cart and cart|length > 0 %}
    <div class="cart-items">
      {% for item in cart %}
      <div class="cart-item">
        <img src="{{ item.thumbnail }}" alt="{{ item.title }}">

        <div class="info">
          <h3>{{ item.title }}</h3>
          <p>Price: â‚¹{{ "%.2f"|format(item.price) }}</p>

          <div class="quantity-controls">
            <a href="{{ url_for('decrease_quantity', product_id=item.id) }}" class="qty-btn">âˆ’</a>
            <span class="qty">{{ item.quantity }}</span>
            <a href="{{ url_for('increase_quantity', product_id=item.id) }}" class="qty-btn">+</a>
          </div>

          <a href="{{ url_for('remove_item', product_id=item.id) }}" class="delete-btn">Remove ðŸ—‘</a>
        </div>
      </div>
      {% endfor %}
    </div>

    <div class="cart-summary">
      <p><strong>Total: â‚¹{{ "%.2f"|format(total) }}</strong></p>
      <a href="{{ url_for('checkout') }}" class="checkout-btn">Proceed to Checkout</a>
      <a href="{{ url_for('clear_cart') }}" class="clear-btn">Clear Cart</a>
    </div>

  {% else %}
<div class="empty-cart">
  <div class="empty-cart-icon">ðŸ›’</div>
  <h2>Your Cart is Empty</h2>
  <p>Looks like you haven't added any products yet. Start shopping and fill your cart with amazing deals!</p>
  <a href="/" class="browse-btn">Browse Products</a>
</div>
{% endif %}

</div>
{% endblock %}

